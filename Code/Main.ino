/*
____/\\\\\\\\\______________________/\\\__________/\\\__________/\\\\\\_________________________/\\\\\\\\\\\_______________________________________________________________        
 __/\\\///////\\\___________________\/\\\_________\/\\\_________\////\\\_______________________/\\\/////////\\\_____________________________________________________________       
  _\/\\\_____\/\\\___________________\/\\\_________\/\\\____________\/\\\______________________\//\\\______\///____________________________________________________/\\\______      
   _\/\\\\\\\\\\\/______/\\\____/\\\__\/\\\_________\/\\\____________\/\\\_________/\\\\\\\\_____\////\\\______________/\\\\\\\\______/\\\\\______/\\\____/\\\___/\\\\\\\\\\\_     
    _\/\\\//////\\\_____\/\\\___\/\\\__\/\\\\\\\\\___\/\\\\\\\\\______\/\\\_______/\\\/////\\\_______\////\\\_________/\\\//////_____/\\\///\\\___\/\\\___\/\\\__\////\\\////__    
     _\/\\\____\//\\\____\/\\\___\/\\\__\/\\\////\\\__\/\\\////\\\_____\/\\\______/\\\\\\\\\\\___________\////\\\_____/\\\___________/\\\__\//\\\__\/\\\___\/\\\_____\/\\\______   
      _\/\\\_____\//\\\___\/\\\___\/\\\__\/\\\__\/\\\__\/\\\__\/\\\_____\/\\\_____\//\\///////_____/\\\______\//\\\___\//\\\_________\//\\\__/\\\___\/\\\___\/\\\_____\/\\\_/\\__  
       _\/\\\______\//\\\__\//\\\\\\\\\___\/\\\\\\\\\___\/\\\\\\\\\____/\\\\\\\\\___\//\\\\\\\\\\__\///\\\\\\\\\\\/_____\///\\\\\\\\___\///\\\\\/____\//\\\\\\\\\______\//\\\\\___ 
        _\///________\///____\/////////____\/////////____\/////////____\/////////_____\//////////_____\///////////_________\////////______\/////_______\/////////________\/////____
*/  

/*  
    Author : https://github.com/Templatew
    Date : 01-2024
    Version : N/A

    Description :

        * This is the main file for the robot. It will be used to call all the other files and functions.
        * It will also be used to set up the robot and the sensors.
*/

#include "Motors.h"
#include "Lidar.h"
#include "IrSensor.h"
#include "Stepper.h"
#include "ServoMotor.h"
#include <SoftwareSerial.h>


// Set up motors
Motors motors;

// Set up bluetooth
const int RX = 11;
const int TX = 10;
SoftwareSerial BT(RX,TX);

// Set up Ir Sensor
IrSensor irSensor;

// Set up Servo
ServoMotor servo;

// Set up Stepper
Stepper stepper;

// Set up Lidar
Lidar lidar(servo, stepper, irSensor);

void setup() {

    // Start bluetooth communication
    BT.begin(9600);

    // Start serial communication
    Serial.begin(9600);
}

void loop() {

    double test = sin(3);

    char data = 'S';
    if (BT.available()){
        data=BT.read();
    }
    
    switch(data) {

        case 'F':
            motors.move(255, 255);
            break;

        case 'B':
            motors.move(-255, -255);
            break;

        case 'L':
            motors.move(-255, 255);
            break;

        case 'R':
            motors.move(255, -255);
            break;

        case 'S':
            motors.move(0, 0);
            break;
    }
}


